// ============================================================================
//
// PAGES: NEWS
//
// ============================================================================


// -------------------------------------
// Specific Settings: Vars & Mixins
// -------------------------------------
$color-off: $fourth-color;
$color-on: $third-color;
$color-line: $fifth-color;

$responsivenav-bg-color: $white;
$responsivenav-menuitem-height: $dp * 6;


// Mixins
@mixin responsivemobilenav-gradient-overflow ($dir:left) {
  @if $dir == left {
    @include background-image(linear-gradient(to left, rgba($responsivenav-bg-color, 0), rgba($responsivenav-bg-color, 1)));
    @include position(absolute, -$dp * 2 null null 0);
  } @else {
    @include background-image(linear-gradient(to right, rgba($responsivenav-bg-color, 0), rgba($responsivenav-bg-color, 1)));
    @include position(absolute, -$dp * 2 0 null null);
  }

  @include position(absolute);
  @include size($responsivenav-menuitem-height - $dp $responsivenav-menuitem-height);
  content: ' ';
  z-index: 99;
  display: block;
}

// -------------------------------------
// Scaffold
// -------------------------------------

// NEWS List
.block-views-blockcontinent-block-continents {
  @include column(4, false, collapse, false);

  @include respond(tablets) {
    width: columns(3.5);
  }

  @include respond(all-phones) {
    @include margin(null null $dp * 3 null);

    &::before {
      @include responsivemobilenav-gradient-overflow(left);
    }

    &::after {
      @include responsivemobilenav-gradient-overflow(right);
    }
  }

  // Menu
  .views-row {
    @include trim();

    a {
      @include trim();
      @include red-caps-link();
      @include margin(null null $dp * 3 null);
      color: $color-off;
      font-weight: $regular;
      display: block;
      text-decoration: none;
      text-align: left;
      border-right: none;
      border-bottom: none;

      @include respond(tablets) {
        @include margin(null null $dp * 1.8 null);
        font-weight: $semibold;
        text-align: left;
        border-right: none;
        border-bottom: none;
      }

      @include respond(all-phones) {
        @include margin(null $dp * 2 $dp null);
        @include padding(null null $dp * 1.2 null);
        font-weight: $regular;
        text-align: center;
        border-right: none;
        border-bottom: none;
      }

      &:hover {
        color: $color-on;
        font-weight: $regular;
        text-decoration: none;
        text-align: left;
        border-right: none;
        border-bottom: none;

        @include respond(tablets) {
          font-weight: $semibold;
          text-decoration: none;
          text-align: left;
          border-right: none;
          border-bottom: none;
        }

        @include respond(all-phones) {
          font-weight: $regular;
          text-align: center;
          border-right: none;
          border-bottom: none;
        }
      }

      &.__active {
        @include red-caps-link();
        color: $color-on;
        text-decoration: none;
        text-align: left;
        border-right: 4px solid $color-on;
        border-bottom: none;

        @include respond(tablets) {
          @include margin(null null $dp * 2 null);
          text-align: left;
          border-right: 4px solid $color-on;
          border-bottom: none;
        }

        @include respond(all-phones) {
          @include margin(null null $dp * 2 null);
          text-align: center;
          border-right: none;
          border-bottom: 4px solid $color-on;
        }
      }
    }
  }
}

.block-views-blocknews-block-1 {
  @include column(10);
  @include position(relative);
  @include news(list);

  @include respond(tablets) {
    width: columns(10.5);
  }


  // Vertical line menu
  &::before {
    content: '';
    display: block;
    background-color: lighten($color-line, 10);
    width: 4px;
    height: 100%;
    position: absolute;
    top: 0;
    left: (-$gutter * 2) + 0.5;
    z-index: -1;

    @include respond(all-phones) {
      // Horizontal line
      width: 100%;
      height: 4px;
      top: (-$dp * 5.4);
      left: 0;
    }

  }
}


// NEWS detail
article.node--type-news.node--view-mode-full {

  .field--name-field-date-published {
    @include news--date();
    @include clearfix();
    @include padding(null null null columns(2.45));

    @include respond(tablets) {
      @include padding(null null null columns(2.8));
    }
  }

  // Related separator
  .field__label {
    @include header-block-separator();
  }

  .field--name-field-related-topics {
    .field__items {
      @include topics(grid, '> .field__item');
    }
  }

  .field--name-field-related-news {
    .field__items {
      @include news(grid, '> .field__item');
    }
  }

  .action {
    @include margin($dp * 4 null $dp * 3 null);
    text-align: center;
  }

}
