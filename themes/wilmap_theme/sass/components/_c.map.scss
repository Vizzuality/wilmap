// ============================================================================
//
// COMPONENTS: MAP
//
// ============================================================================

.leaflet-container {
  background-color: #f7f6f2;

  .leaflet-control-zoom {
    @include position(relative, 70px null null null);
  }

  .leaflet-map-pane {
    // Solve the problem with tiles in custom panes.
    .leaflet-labels-pane img {
    	max-width: none !important;
    }
  }

  .leaflet-popup-pane {
    .leaflet-popup {
      overflow: hidden;
      padding-bottom: $dp * 2;
      left: 0 !important;
      bottom: 0 !important;
      margin-bottom: 0;
      border-left: 1px solid darken($third-color, 3);

      .leaflet-popup-content-wrapper {
        @include border-radius($metro-radius);
        background-color: $third-color;
        border: none;
        overflow: hidden;

        .leaflet-popup-content {
          @include margin(0);
          @include padding(0);
          width: $dp * 30 !important;
        }

        .popup-inner {
          position: relative;
          top: -1px;
          right: -1px;
          width: $dp * 30;

          .popup-inner-left {
            @include padding($dp);
            @include font($normal - 1, 1, $regular, $body-font);
            color: $second-color;
            text-align: center;
            width: 30%;
            float: left;
            display: block;

            span {
              @include font($large - 8, 1, $extra-light, $body-font);
              @include margin(null null $dp / 2 null);
              display: block;
            }
          }

          .popup-inner-right {
            position: relative;
            background-color: $second-color;
            width: 70%;
            float: right;
            display: block;
            min-height: $dp * 9;

            .popup-info {
              @include padding($dp * 1.5 $dp * 2.5 $dp * 5 $dp * 2.5);

              p {
                @include trim();
                @include margin(null null $dp null);
                @include font($normal - 1, 1.1, $regular, $body-font);
                color: $fourth-color;

                strong {
                  @include font($normal - 1, 1.1, $bold, $body-font);
                  color: $first-color;
                }
              }
            }

            .popup-actions {
              @include position(absolute, auto null -2px 0);
              width: 100%;

              a.btn {
                @include button-second();
                display: block;
                width: 100%;
              }
            }
          }
        }
      }

      .leaflet-popup-tip-container {
        left: 0;
        bottom: 1px;

        .leaflet-popup-tip {
          background-color: $third-color;
          width: 23px;
          height: 23px;
        }
      }
    }
  }

}
